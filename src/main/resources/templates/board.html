<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Board</title>
    <link href="../static/css/board_lines.css" th:href="@{/css/board_lines.css}" rel="stylesheet" />

</head>
<body>
<p id="demo"></p>
<script>
    var moving=-1;
</script>
Stratego board made with div
<div class="divTable board" id="board">
    <div class="divTableBody">
        <th:block th:each="i: ${#numbers.sequence(1, count)}">
            <div class="divTableRow">

                <th:block th:each="m: ${#numbers.sequence(1,inner)}">

                    <div class="divTableCell1" th:if="${pos.compare(i,m)}"></div>

                    <div class="divTableCell" th:unless="${pos.compare(i,m)}">

                        <div class="all_pieces" th:if="${pos.getImage(i)}"
                              >



                            <script>

                            </script>
                            <script type="text/javascript" th:inline="javascript">



                                function move(i,m) {
                                    if (moving==-1){
                                        moving=(i*10+m);
                                        document.getElementById((i*10+m).toString()).style.borderColor='yellow';
                                        document.getElementById((i*10+m).toString()).style.borderStyle='solid';
                                        //alert(moving);
                                        return;
                                    }


                                    /*  var xhttp = new XMLHttpRequest();
                                      xhttp.onreadystatechange = function() {
                                          if (this.readyState == 4 && this.status == 200) {
                                              document.getElementById("demo").innerHTML = this.responseText;
                                          }
                                      };
                                      xhttp.open("GET", "move.jsp", true);
                                      xhttp.send();*/
                                    if (moving>=0) {
                                      //  alert("moving from " + moving + " to " +(i*10+m));



                                        document.getElementById((i*10+m).toString()).src=document.getElementById(moving.toString()).src
                                        document.getElementById(moving.toString()).style.opacity=".02";
                                        document.getElementById(moving.toString()).style.borderStyle='none';
                                        document.getElementById((i*10+m).toString()).style.opacity="1";


                                        moving=-1
                                    }
                                }
                            </script>


                            <div class="blue_pieces"  th:if="${pos.blue(i)}"
                                 th:onclick="'javascript:move(' + ${i} + ','+${m}+')'">

                                <img class="blue_front"  src=${pos.assign(i,m)} th:src="${pos.assign(i,m)}"
                                     />
                                <img class="blue_back" th:id ="${i*10+m}" src="../images/pieces/blue_back.png" th:src="@{images/pieces/blue_back.png}"/>

                            </div>
                            <div class="red_pieces" th:if="${pos.red(i)}"
                                 th:onclick="'javascript:move(' + ${i} + ','+${m}+')'"
                            >
                                <!--th:onclick="${pos.printTest(5)}"  -->
                                <img class="red_front"th:id ="${i*10+m}"  src=@{pos.assign(i,m)} th:src="${pos.assign(i,m)}"/>
                                <img class="red_back"  src="../images/pieces/red_back.png" th:src="@{images/pieces/red_back.png}"/>

                            </div>
                            <div class="blank" th:if="${pos.blank(i)}"
                                 th:onclick="'javascript:move(' + ${i} + ','+${m}+')'"
                            >
                                <img class="blue_back" style="opacity:.02" th:id ="${i*10+m}"
                                     src="../images/pieces/blue_back.png" th:src="@{images/pieces/blue_back.png}"/>

                            </div>
                        </div>



                    </div>

                </th:block>
            </div>

        </th:block>


    </div>
</div>

</body>
</html>